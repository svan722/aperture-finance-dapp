(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3419],{10106:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/new-position",function(){return e(59879)}])},9489:function(t,n,e){"use strict";async function r(t,n){let e={};return await Promise.all(Array.from(t).map(async t=>{let r=parseInt(t.toString());try{e[r]=await n(r)}catch(t){console.error("Error: Failed to fetch data for chain ".concat(r,":"),t.message)}})),e}e.d(n,{j:function(){return r}})},47521:function(t,n,e){"use strict";e.d(n,{Tp:function(){return i},Zx:function(){return u},jw:function(){return c},pj:function(){return o}});var r=e(9485);function i(t,n,e,r,i,u){switch(t){case"getDecrementLower":return r?o(e,"Increment",i,u):o(n,"Decrement",i,u);case"getIncrementLower":return r?o(e,"Decrement",i,u):o(n,"Increment",i,u);case"getDecrementUpper":return r?o(n,"Increment",i,u):o(e,"Decrement",i,u);case"getIncrementUpper":return r?o(n,"Decrement",i,u):o(e,"Increment",i,u);default:return null}}function o(t,n,e,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(i&&e){let u="number"==typeof t?t:i.tickCurrent,c=u+("Decrement"===n?-1:1)*e*Math.ceil(o/2);return c<r.TickMath.MIN_TICK?c+=e:c>r.TickMath.MAX_TICK&&(c-=e),c}return null}function u(t,n,e){return Math.round(Math.log((t=Math.round(100*t)/100)<=n?Math.round((100+n)*100)/1e4+1/1e7:void 0!==e&&t>=e?Math.round((100+e)*100)/1e4:Math.round((100+t)*100)/1e4)/Math.log(1.0001))}function c(t,n){let e=1.0001**t*1e4-1e4;return n&&(e=Math.abs(e)),(Math.round(e)/100).toFixed(2)}},41738:function(t,n,e){"use strict";e.d(n,{o:function(){return a}});var r=e(62942),i=e(70502),o=e(23255),u=e(16405),c=e(92321);let a=t=>{let{address:n}=(0,c.m)(),{ammEnum:e,networkId:a,isChainSupported:l}=(0,r.L)(),s=(0,i.$)(t);(0,o.Z)(()=>{s()},[n,a,e]),(0,u.useEffect)(()=>{l||s()},[s,l])}},16312:function(t,n,e){"use strict";e.d(n,{q:function(){return l}});var r=e(24002),i=e(62942),o=e(69758),u=e(28388),c=e(70502),a=e(42732);let l=()=>{let{networkId:t}=(0,i.L)(),{mutate:n}=(0,a.u)(),{updateTokenPriceMap:e,updateTokenMap:l}=(0,r.jB)(),s=(0,c.$)(async(r,i)=>{let o=Array.isArray(i)?i:[i];l({chainId:r,tokens:o}),await e({chainId:r,tokens:o}),r===t&&await n()}),d=(0,c.$)(async(t,n)=>{let e=Array.isArray(n)?n:[n],r=await Promise.all(e.map(async n=>u.viem.getToken(n,t,(0,o.u)(t),void 0,!0)));return s(t,r)});return{mutateWarningTokens:s,mutateWarningTokensByAddress:d}}},23609:function(t,n,e){"use strict";e.d(n,{M:function(){return h},d:function(){return f}});var r=e(24002),i=e(62942),o=e(48803),u=e(65195),c=e(16405),a=e(92321),l=e(87076),s=e(16312),d=e(45796);let f=t=>{var n,e;let{networkId:a,ammEnum:f}=(0,i.L)(),{mutateWarningTokensByAddress:h}=(0,s.q)(),{currentTokenMap:m,currentTokenPrice:p}=(0,l.P)(),{state:{rawAllPositionMap:v},updatePositionMap:g}=(0,r.jB)(),I=null==v?void 0:null===(n=v[t])||void 0===n?void 0:null===(e=n[f])||void 0===e?void 0:e[a];return(0,c.useEffect)(()=>{f&&t&&g({amm:f,chainId:a,walletAddress:t,isInitialization:!0})},[a,f,g,t]),(0,c.useEffect)(()=>{if(!I||!m)return;let t=(0,d.M)(I,m);t.length>0&&h(a,t)},[I,m,h,a]),(0,c.useMemo)(()=>{if(!I||!m)return{positionMap:{},positionList:[]};let t=(0,o.b)(I,m,a,p),n=(0,o.A5)(t);return{positionMap:(0,u.keyBy)(n,t=>t.positionId),positionList:n}},[I,m,a,p])},h=()=>{let{networkId:t,ammEnum:n}=(0,i.L)(),{address:e}=(0,a.m)(),{updatePositionMap:o}=(0,r.jB)(),u=(0,c.useCallback)(()=>{o({amm:n,chainId:t,walletAddress:e})},[n,t,o,e]);return{mutatePositionMap:u}}},17035:function(t,n,e){"use strict";e.d(n,{q:function(){return l}});var r=e(62942),i=e(9489),o=e(89011),u=e(28388),c=e(33504),a=e(2303);function l(t){let{data:n,isLoading:e}=function(t){let{amm:n,isChainSupported:e}=(0,r.L)();return(0,a.Z)(n&&t&&e?"user-chains-with-positions-number-".concat(n.name,"-").concat(t):null,()=>{let e=(0,c.C7)(n).map(t=>(0,o.$D)(t));return(0,i.j)(e,async e=>u.viem.getNumberOfPositionsOwnedByOwner(t,e,(0,c.GP)(n)))})}(t),l=(0,o.I5)(),s=!e&&n?Object.entries(n).reduce((t,n)=>{let[e,r]=n;return l.includes(parseInt(e))&&r>0&&t.push(parseInt(e)),t},[]).flat():void 0;return{data:s,isLoading:e||!s}}},45796:function(t,n,e){"use strict";e.d(n,{M:function(){return h},b:function(){return d}});var r=e(62942),i=e(24002),o=e(41378),u=e(16405),c=e(16312),a=e(17035),l=e(92321),s=e(31900);function d(t){var n;let{ammEnum:e}=(0,r.L)(),{data:d}=(0,a.q)(t),{state:{rawAllTokenPriceMap:m,rawAllPositionMap:p,rawAllTokenMap:v}}=(0,i.jB)(),{mutateWarningTokensByAddress:g}=(0,c.q)();!function(){let{address:t}=(0,l.m)(),{data:n}=(0,a.q)(t),{networkId:e}=(0,r.L)(),{updateTokenPriceMap:o,state:{rawAllTokenMap:u}}=(0,i.jB)();(0,s.D)(u&&n,()=>{[e].concat(null!=n?n:[]).map(t=>{o({chainId:t,tokens:Object.values(u[t]),isInitialization:!0})})})}(),f(e,t);let I=null==p?void 0:null===(n=p[t])||void 0===n?void 0:n[e];(0,u.useEffect)(()=>{I&&Object.entries(I).forEach(t=>{let[n,e]=t,r=parseInt(n),i=null==v?void 0:v[r],o=h(e,i);o.length>0&&g(r,o)})},[I,g,v]);let k=!!d&&0===d.length,w=!k&&(!I||!v),b=(0,u.useMemo)(()=>{if(w)return{};let t={};return Object.entries(null!=I?I:{}).forEach(n=>{let[e,r]=n,i=parseInt(e),u=null==v?void 0:v[i],c=(0,o.b)(r,u,i,null==m?void 0:m[i]);t[i]=(0,o.A)(c)}),t},[I,w,v,m]);return{data:b,isLoading:w}}let f=(t,n)=>{let{updatePositionMap:e}=(0,i.jB)(),{data:r}=(0,a.q)(n);(0,u.useEffect)(()=>{t&&n&&(null==r||r.forEach(r=>{e({amm:t,chainId:r,walletAddress:n,isInitialization:!0})}))},[t,r,e,n])},h=(t,n)=>{let e=new Set;for(let r of Object.values(t)){let{token0:t,token1:i}=r.pool;[t.address,i.address].forEach(t=>{(null==n?void 0:n[t])||e.has(t)||e.add(t)})}return Array.from(e)}},48747:function(t,n,e){"use strict";e.d(n,{d:function(){return s},m:function(){return l}});var r=e(62942),i=e(64953),o=e(69758),u=e(5685),c=e(28388),a=e(2303);function l(t,n){var e;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=!(arguments.length>3)||void 0===arguments[3]||arguments[3],{ammEnum:c,networkId:l,publicClient:s}=(0,r.L)();"SLIPSTREAM"!==c&&(i=u.Np[c]);let f=t&&n&&c&&o&&l===(null===(e=s.chain)||void 0===e?void 0:e.id);return(0,a.Z)(f?"tokens-market-price-".concat(c,"-").concat(l,"-").concat(t,"-").concat(n):null,()=>d(c,l,t,n,i,s),{refreshInterval:3e4})}function s(t,n,e,r){var c;let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=!(arguments.length>5)||void 0===arguments[5]||arguments[5],f=(0,i.iC)(),h=(0,o.u)(n,f);"SLIPSTREAM"!==t&&(l=u.Np[t]);let m=e&&r&&t&&s&&n===(null===(c=h.chain)||void 0===c?void 0:c.id);return(0,a.Z)(m?"calc-tokens-market-price-".concat(t,"-").concat(n,"-").concat(e,"-").concat(r):null,()=>d(t,n,e,r,l,h),{refreshInterval:3e4})}async function d(t,n,e,r,i,o){let u={};return await Promise.all(i.map(async i=>{try{let a=await c.viem.getPool(e,r,i,n,t,o);u[i]=a.token0.address===e?{tokenA:a.token0Price.toFixed(18),tokenB:a.token1Price.toFixed(18)}:{tokenA:a.token1Price.toFixed(18),tokenB:a.token0Price.toFixed(18)}}catch(t){console.debug("Error: unsupported pool: ",i,t.message)}})),u}},59879:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return w}});var r=e(79570),i=e(92228),o=e(69987),u=e(5685),c=e(58694),a=e(27481),l=e(33841);function s(){let t=(0,i.Z)(["\n  border-radius: ",";\n  background-color: ",";\n  padding-bottom: 124px;\n"]);return s=function(){return t},t}function d(){let t=(0,i.Z)(["\n  padding-top: 10px;\n  gap: ",";\n"]);return d=function(){return t},t}function f(){let t=(0,i.Z)(['\n  width: 100%;\n  font-family: "Dunbar Tall";\n  text-transform: capitalize;\n  color: ',";\n"]);return f=function(){return t},t}let h=(0,c.ZP)(o.tuJ).withConfig({componentId:"sc-6025733d-0"})(s(),t=>{let{theme:n}=t;return n.radii.lg},t=>{let{theme:n}=t;return n.colors.global.background.BG1}),m=(0,c.ZP)(o.tuJ).withConfig({componentId:"sc-6025733d-1"})(d(),t=>{let{theme:n}=t;return n.spacing.xl}),p=(0,c.ZP)(u.H1).withConfig({componentId:"sc-6025733d-2"})(f(),t=>{let{theme:n}=t;return n.colors.global.text.T1}),v=t=>{let{backClicked:n}=t;return(0,r.jsxs)(h,{children:[(0,r.jsxs)(m,{children:[(0,r.jsx)(o.iIr,{onClick:n}),(0,r.jsxs)(o.tuJ,{gap:12,children:[(0,r.jsx)(p,{children:"New Position"}),(0,r.jsx)(l.IT,{children:"Zap In"})]})]}),(0,r.jsx)(a.U,{back:n})]})};var g=e(80631),I=e(5632);let k=()=>{let t=(0,I.useRouter)();return(0,r.jsx)(g._z,{children:(0,r.jsx)(v,{backClicked:()=>t.push("/liquidity-management")})})};var w=k}},function(t){t.O(0,[9458,7883,2089,1615,7481,2888,179],function(){return t(t.s=10106)}),_N_E=t.O()}]);
//# sourceMappingURL=new-position-50ec4a144751d9a9.js.map